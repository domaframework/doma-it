apply plugin: 'java'

version = '2.0-beta-2-SNAPSHOT' 
processResources.destinationDir = compileJava.destinationDir
compileJava.dependsOn processResources
 
compileJava {
    options.encoding = 'UTF-8'
    options.compilerArgs = ['-Adoma.domain.converters=org.seasar.doma.it.domain.DomainConverterProvider']
}
 
compileTestJava {
    options.encoding = 'UTF-8'
}
 
jar {
    manifest {
        attributes 'Implementation-Title': 'Doma-IT', 'Implementation-Version': version
    }
}
 
test {
    scanForTestClasses = false
    includes = ['**/*Test.class']
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.10'
}

repositories {
    mavenCentral()
    mavenLocal()
    maven {url 'http://maven.seasar.org/maven2'}
}
 
dependencies {
    compile "org.seasar.doma:doma:${version}"
    testCompile 'org.apache.ant:ant:1.7.0'
    testCompile 'hsqldb:hsqldb:1.8.0.1'
    testCompile 'com.h2database:h2:1.3.171'
    testCompile 'junit:junit:4.11'
}

apply from:'eclipse.gradle'